generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model carreras {
  idCarreras       Int          @id @default(autoincrement())
  planEstudios     Int
  jefeDepartamento String
  creditos         Int
  nombre           String
  planestudios     planestudios @relation(fields: [planEstudios], references: [idPlan], onDelete: NoAction, onUpdate: NoAction, map: "fk_carreras_planestudios")
  estudiante       estudiante[]

  @@index([planEstudios], map: "fk_carreras_planestudios")
}

model docente {
  idDocente           Int     @id @default(autoincrement())
  nombre              String
  curp                String
  direccion           String
  telefono            String
  correoPersonal      String
  correoInstitucional String
  titulo              String
  plazas              String
  puesto              String
  departamento        String
  grupo               grupo[]
}

model documentos {
  idDocumentos                   Int        @id
  actaNacimiento                 Bytes
  certificadoBachillerato        Bytes
  contratoEstudiante             Bytes
  formatoActualizadoCurp         Bytes
  resolucionRevalidacionEstudios Bytes
  solicitudInscripcion           Bytes
  cartaServicioSocial            Bytes
  tarjetaResidenteTemporal       Bytes
  idEstudiante                   Int
  estudiante                     estudiante @relation(fields: [idEstudiante], references: [idEstudiante], onDelete: NoAction, onUpdate: NoAction, map: "idEstudiante")

  @@index([idEstudiante], map: "idEstudiante")
}

model estudiante {
  idEstudiante                                               Int                 @unique @default(autoincrement())
  nombre                                                     String
  modalidad                                                  Int
  curp                                                       String
  fotoPerfil                                                 String
  telefono                                                   String
  correoInstitucional                                        String              @unique
  correoPersonal                                             String
  periodoIngreso                                             String
  periodoActual                                              String
  situacion                                                  String
  escuelaProcedencia                                         String
  fechaNacimiento                                            DateTime
  ciudad                                                     String
  direccion                                                  String
  idCarrera                                                  Int
  documentos                                                 documentos[]
  carreras                                                   carreras            @relation(fields: [idCarrera], references: [idCarreras], map: "Estudiante_idCarrera_fkey")
  modalidad_estudiante_modalidadTomodalidad                  modalidad           @relation("estudiante_modalidadTomodalidad", fields: [modalidad], references: [idModalidad], onDelete: NoAction, onUpdate: NoAction, map: "fk_estudiante_modalidad")
  grupoestudiante                                            grupoestudiante[]
  materiaestudiante_materiaestudiante_estudianteToestudiante materiaestudiante[] @relation("materiaestudiante_estudianteToestudiante")
  usuarios                                                   usuarios[]

  @@id([idEstudiante, modalidad])
  @@index([idCarrera], map: "Estudiante_idCarrera_fkey")
  @@index([modalidad], map: "fk_estudiante_modalidad")
}

model usuarios {
  idUsuarios         Int        @id @default(autoincrement())
  passwordUsuarios   String
  estudianteUsuarios Int
  estudiante         estudiante @relation(fields: [estudianteUsuarios], references: [idEstudiante], onDelete: NoAction, onUpdate: NoAction, map: "Usuarios_estudiantes_fkey")

  @@index([estudianteUsuarios], map: "Usuarios_estudiantes_fkey_idx")
}

model materia {
  idMateria                                            Int                 @id @default(autoincrement())
  materiaPrevia                                        String?             @db.Text
  materiaDependiente                                   String?             @db.Text
  planEstudios                                         Int
  nombre                                               String              @db.Text
  creditos                                             Int
  semestre                                             Int
  grupo                                                grupo[]
  planestudios                                         planestudios        @relation(fields: [planEstudios], references: [idPlan], onDelete: NoAction, onUpdate: NoAction, map: "materia_ibfk_1")
  materiaestudiante_materiaestudiante_materiaTomateria materiaestudiante[] @relation("materiaestudiante_materiaTomateria")

  @@index([planEstudios], map: "planEstudios")
}

model modalidad {
  idModalidad                                Int          @id @default(autoincrement())
  nombreModalidad                            String       @db.VarChar(50)
  estudiante_estudiante_modalidadTomodalidad estudiante[] @relation("estudiante_modalidadTomodalidad")
}

model planestudios {
  idPlan            Int        @id @default(autoincrement())
  nombrePlanEstudio String?    @db.VarChar(50)
  carreras          carreras[]
  materia           materia[]
}

model trabajador {
  idTrabajador Int    @id @default(autoincrement())
  puesto       String @db.VarChar(50)
}

model materiaestudiante {
  idMateriaEstudiante                                 Int        @id @default(autoincrement())
  estudiante                                          Int
  materia                                             Int
  estado                                              Int
  estudiante_materiaestudiante_estudianteToestudiante estudiante @relation("materiaestudiante_estudianteToestudiante", fields: [estudiante], references: [idEstudiante], onDelete: NoAction, onUpdate: NoAction, map: "estudiante")
  materia_materiaestudiante_materiaTomateria          materia    @relation("materiaestudiante_materiaTomateria", fields: [materia], references: [idMateria], onDelete: NoAction, onUpdate: NoAction, map: "materia")

  @@index([estudiante], map: "estudiante_idx")
  @@index([materia], map: "materia_idx")
}

model grupo {
  idGrupo         Int               @id @default(autoincrement())
  idMateria       Int
  paq             String            @db.VarChar(10)
  lunes           String?           @db.VarChar(20)
  martes          String?           @db.VarChar(20)
  miercoles       String?           @db.VarChar(20)
  jueves          String?           @db.VarChar(20)
  viernes         String?           @db.VarChar(20)
  sabado          String?           @db.VarChar(20)
  salon           String            @db.VarChar(25)
  idDocente       Int
  docente         docente           @relation(fields: [idDocente], references: [idDocente], onDelete: NoAction, onUpdate: NoAction, map: "idDocente")
  materia         materia           @relation(fields: [idMateria], references: [idMateria], onDelete: NoAction, onUpdate: NoAction, map: "idMateria")
  grupoestudiante grupoestudiante[]

  @@index([idDocente], map: "idDocente_idx")
  @@index([idMateria], map: "idMateria_idx")
}

model grupoestudiante {
  idGrupoEstudiante Int        @id @default(autoincrement())
  idGrupo           Int
  idEstudiante      Int
  estudiante        estudiante @relation(fields: [idEstudiante], references: [idEstudiante], onDelete: NoAction, onUpdate: NoAction, map: "estudianteGrupo")
  grupo             grupo      @relation(fields: [idGrupo], references: [idGrupo], onDelete: NoAction, onUpdate: NoAction, map: "grupo")

  @@index([idEstudiante], map: "idEstudiante_idx")
  @@index([idGrupo], map: "idGrupo_idx")
}
